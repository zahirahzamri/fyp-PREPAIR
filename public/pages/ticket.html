<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Ticket</title>
    <link type="text/css" href="/public/css/materialize.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" href="/public/css/styles.css" rel="stylesheet">
    <script type="text/javascript" src="/public/js/materialize.min.js"></script>    
    <link rel="manifest" href="/public/manifest.json">
    
    <link rel="apple-touch-icon" href="/public/img/icons/logo96.png">  
    <meta name="apple-mobile-web-app-status-bar" content="#00b4d8">
    <meta name="theme-color" content="#00b4d8">
    <link rel="icon" type="image/png" sizes="32x32" href="/public/img/icons/logo32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/public/img/icons/logo16.png">  
</head>

<body>

  <!-- top nav with dropdown -->
    <div class="navbar-fixed">
        <nav class="nav-wrapper z-depth-0">
          <div class="container">
            <a class="logo" href="/public/pages/asset/mainPage.html">PRE<span>PAIR</span></a>
            <a href="#" class="sidenav-trigger" data-target="mobile-links">
              <i class="material-icons">menu</i>
            </a>
            <!-- Dropdown Structure -->
            <div id="dropdown1" class="dropdown-content row">
                <ul class="vertical-tabs col s8">
                    <li><a href="/public/pages/dashboard.html"          class="styleNav-dropdown"><i class="material-icons left">dashboard</i>Dashboard</a></li>
                    <li><a href="/public/pages/asset/mainAsset.html"    class="styleNav-dropdown"><i class="material-icons left">devices</i>Assets</a></li>
                    <li><a href="/public/pages/report.html"             class="styleNav-dropdown"><i class="material-icons left">table_chart</i>Report</a></li>
                </ul>                
            </div>
            <div id="dropdown2" class="dropdown-content row">
                <ul class="vertical-tabs col s8">
                    <li class="logged-in" style="display: none;"><a href="#" class="styleNav-dropdown modal-trigger" data-target="modal-account"><i class="material-icons left">account_circle</i>Profile</a></li>
                    <li class="admin"     style="display: none;"><a href="#" class="styleNav-dropdown modal-trigger" data-target="modal-addAdmin"><i class="material-icons left">group_add</i>Add Technician</a></li>
                    <li class="logged-in" style="display: none;"><a href="#" class="styleNav-dropdown"><i class="material-icons left">chat</i>Chat</a></li>
                    <li class="logged-in" style="display: none;"><a href="#" class="styleNav-dropdown"><i class="material-icons left">notifications</i>Notification</a></li>
                </ul>
            </div>

            <!-- navigation -->
            <ul class="right hide-on-med-and-down">
                <li class="logged-in" style="display: none;"><a href="/public/pages/asset/mainPage.html"                    class="styleNav">Home</a></li>
                <li class="admin"     style="display: none;"><a class="dropdown-trigger1" href="#!" data-target="dropdown1"  class="styleNav">Assets<i class="material-icons right">arrow_drop_down</i></a></li>
                <li class="logged-in" style="display: none;"><a href="/public/pages/ticket.html"                            class="styleNav">Tickets</a></li>
                <li class="logged-in" style="display: none;"><a class="dropdown-trigger1" href="#!" data-target="dropdown2"  class="styleNav">More<i class="material-icons right">arrow_drop_down</i></a></li>
                <!-- <li class="logged-in" style="display: none;"><a href="/public/index.html"                                   class="right styleNav" id="logout">Log out<i class="material-icons left">lock_open</i></a></li> -->
                <li class="logged-in" style="display: none;"><a href="/public/index.html" class="right styleNav" id="logout">Log out</a></li>
            </ul>
          </div>
        </nav>
      </div>
    <!-- side nav -->
    <ul class="sidenav" id="mobile-links">
        <li><a class="subheader">PRE<span>PAIR</span></a></li>
        <li class="logged-in"   style="display: none;"><a href="/public/pages/asset/mainPage.html"  class="styleNav waves-effect"><i class="material-icons left">Home</i>Home</a></li>
        <li><div class="divider"></div></li>
        <li class="admin"       style="display: none;"><a href="/public/pages/dashboard.html"       class="styleNav waves-effect"><i class="material-icons left">dashboard</i>Dashboard</a></li>
        <li class="admin"       style="display: none;"><a href="/public/pages/asset/mainAsset.html" class="styleNav waves-effect"><i class="material-icons left">devices</i>Asset</a></li>
        <li class="logged-in"   style="display: none;"><a href="/public/pages/ticket.html"          class="styleNav waves-effect"><i class="material-icons left">confirmation_number</i>Tickets</a></li>
        <li class="admin"       style="display: none;"><a href="/public/pages/report.html"          class="styleNav waves-effect"><i class="material-icons left">table_chart</i>Report</a></li>
        <li><div class="divider"></div></li>
        <li class="logged-in"   style="display: none;"><a href="#" class="modal-trigger waves-effect" data-target="modal-account"><i class="material-icons">account_circle</i>Profile</a></li>
        <li class="admin"       style="display: none;"><a href="#" class="modal-trigger" data-target="modal-addAdmin"><i class="material-icons">group_add</i>Add Technician</a></li>
        <li class="logged-in"   style="display: none;"><a href=""><i class="material-icons">chat</i>Chat</a></li>
        <li class="logged-in"   style="display: none;"><a href=""><i class="material-icons">notifications_active</i>Notification</a></li>
        <li><div class="divider"></div></li>
        <li class="logged-in"   style="display: none;"><a href="/public/index.html" class="buttonLogout waves-effect" id="logout"><i class="material-icons left">lock_open</i>Logout</a></li>
    </ul>
  <!-- ACCOUNT MODAL -->
  <div id="modal-account" class="modal">
      <div class="modal-content center-align">
          <h4>User Profile</h4><br />
          <img src="https://alscofirstaid.com.au/wp-content/uploads/2014/01/placeholder-150x150.png" class="ui image centered" id="img">
          <div class="account-details"></div>
      </div>
  </div>
  <!-- ADD TECHNICIAN USER MODAL -->
  <div id="modal-addAdmin" class="modal">
    <div class="modal-content center-align">
        <h4>Add technician</h4><br />
        <form class="center-align admin-actions admin" style="margin: auto; max-width: 300px; display: none;">
            <input type="email" placeholder="User email" id="admin-email" required />
            <button class="btn-small yellow darken-2 z-depth-0">Make technician</button>
            <p class="status-admin green-text center-align"></p>
        </form>
    </div>
  </div>


    <!-- content -->
    <header class="headerStyle darken-1 section container">
        <h4 class="center">ASSET MANAGEMENT</h2>
        <p class="flow-text center text-lighten-2">TEACHING & LEARNING SERVICES</p>
    </header>

    <div class="content container z-depth-1 grey lighten-5">
      <div class="row">
        <button class="input-field btn left btnNavigation" onclick="window.history.go(-1); return false;"><a href="" class="white-text" onclick=" return history.back()"><i class="material-icons left" onclick="history.back()">arrow_back</i>Back</a></button>
        <button class="input-field btn right btnNavigation"><a href="/public/pages/addTicket.html" class="white-text sidenav-trigger"><i class="material-icons left">add</i>New Ticket</a></button>
      </div>
    
      <div class="row">
        <p class="text-title container">Tickets</p>
        <p class="text-desc container">List of tickets received</p>
      </div>

      <!-- Tak jadi lagi search function kat sini -->
      <div class="row container">
        <i class="material-icons left">search<input id="myInput" type="text" placeholder="  Search.." style="width: 100%;"></i>
      </div>

      <div class="row">
        <!-- display tickets -->
        <div class="tickets container grey-text text-darken-1" style="margin-top: 40px;">
          <!-- <ul class="collapsible z-depth-0 ticket" style="border: none;"></ul> -->
        </div>

        <!-- ADD TICKET BUTTON -->
        <div class="center" style="margin-top:3%; margin-bottom: 10%;">
          <a class="btn-floating btn-large sidenav-trigger" href="/public/pages/addTicket.html">
            <i class="material-icons">add</i></a>
        </div>
      </div>

    </div>


    

    <!-- EDIT TICKET MODAL -->
    <div id="modal-editTicket" class="modal">
        <div class="modal-content center-align">
          <div id="editTicket-form" class="ticket-form">
            <form class="edit-ticket container section">
              <h6 >Update Ticket</h6>
              <div class="divider"></div>
              <div class="input-field">
                  <input placeholder="doc.data().category" id="category" type="text" class="validate">
                  <label for="category">Category</label>
              </div>
              <div class="input-field">
                  <input placeholder="${data.description}" id="description" type="text" class="validate">
                  <label for="description">Description</label>
              </div>
              <div class="input-field">
                  <input placeholder="${data.location}" id="location" type="text" class="validate">
                  <label for="location">location</label>
              </div>
              <div class="input-field">
                  <input placeholder="${data.type}" id="type" type="text" class="validate">
                  <label for="type">type</label>
              </div>
      
              <!-- <div class="input-field center"><button class="btn-small">Add</button></div> -->
              <div class="input-field inline center">
                <button class="btn-small updatebtn" type="submit" id="btnUpdateTicket">Update</button>
                <button class="btn-small cancelbtn" id="btnCancelTicket">Cancel</button>
              </div>
            </form>
        </div>
        </div>
    </div>

    <!-- DELETE TICKET MODAL -->
    <div id="modal-deleteTicket" class="modal">
      <div class="modal-content center-align">
        <div id="deleteTicket-form" class="delFormTicket">
          <form class="delete-Ticket container section">
            <h6>Delete Ticket</h6>
            <div class="divider"></div>

            <div class="row">
              <p>Are you sure you want to delete this ticket?</p>
            </div>
            <div class="row">
              <div class="clearfix inline center">
                <button class="btn-small deletebtn" id="btnDelTicket" type="submit">Delete</button>
                <button class="btn-small cancelbtn" id="btnCancelTicket2">Cancel</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>


    <!-- add ticket side nav -->
    <!-- <div id="ticket-form" class="sidenav ticket-form">
      <form class="add-ticket container section">
        <h6 >New Ticket</h6>
        <div class="divider"></div>
        <div id="radio-toolbar">
          <input type="radio" id="radio-incident" name="type" value="Incident" required>
          <label for="radio-incident">Incident</label>
      
          <input type="radio" id="radio-request" name="type" value="Request">
          <label for="radio-request">Request</label>
        </div>
        <p>&nbsp;</p>
        <div class="input-field">
          <input placeholder="e.g. Wifi issues" id="category" type="text" class="validate" required>
          <label for="category">Service Category</label>
        </div>
        <div class="input-field">
          <input placeholder="e.g. Problematic wifi" id="description" type="text" class="validate" required> 
          <label for="description">Description</label>
        </div>
        <div class="input-field">
          <input placeholder="e.g. LR14" id="location" type="text" class="autocomplete validate" required>
          <label for="location">Location</label>
        </div> -->
        <!-- upload picture -->
        <!-- <label>Upload Picture</label>
        <div class="input-field">
          <input type="file" id="ticket-pic" onchange="chooseFile(event)"/>
        </div>

        <div class="input-field center">
          <button class="btn-small">Add</button>
        </div>
      </form>
    </div> -->









    <!-- JAVASCRIPT PART -->

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="/public/js/materialize.min.js"></script>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-functions.js"></script>

    <script src="/public/js/fb.js"></script>

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <script src="/public/js/auth.js"></script>
    <script src="/public/js/index.js"></script>    

    <script src="/public/js/app.js"></script>

    <script src="/public/js/ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.js"></script>
    <script src="/public/js/db.js"></script>

    <script>
        $(document).ready(function(){
            $(".dropdown-trigger").dropdown();
            $(".dropdown-trigger1").dropdown({
                coverTrigger: false,
                inDuration: 300,
                outDuration: 225,
                constraintWidth:false,
                hover: true, // Activate on hover
                belowOrigin: true, // Displays dropdown below the button
                gutter: 0,  //spacing from edge
                alignment: 'right'
            });

            //close modal when click 'Cancel' button
            const btn = document.getElementById("btnCancelTicket");
            const btn2 = document.getElementById("btnCancelTicket2");
            btn.addEventListener('click', evt => {
              const closeModalTicket = document.querySelector('#modal-editTicket');
              M.Modal.getInstance(closeModalTicket).close();
            })
            btn2.addEventListener('click', evt => {
              const closeModalTicket2 = document.querySelector('#modal-deleteTicket');
              M.Modal.getInstance(closeModalTicket2).close();
            })

        });

        
        $(document).ready(function(){
            $("#myInput").on("keyup", function() {
                var value = $(this).val().toLowerCase();

                $(".tickets").filter(function() {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
        });
    </script>
    
</body>
</html>